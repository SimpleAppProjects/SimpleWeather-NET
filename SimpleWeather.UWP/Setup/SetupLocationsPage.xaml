<Page
    x:Class="SimpleWeather.UWP.Setup.SetupLocationsPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:SimpleWeather.UWP.Setup"
    xmlns:controls="using:SimpleWeather.Controls"
    xmlns:localControls="using:SimpleWeather.UWP.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <Page.Transitions>
        <TransitionCollection>
            <EdgeUIThemeTransition Edge="Left" />
        </TransitionCollection>
    </Page.Transitions>

    <Grid>
        <ScrollViewer Background="{ThemeResource SystemAccentColor}" ScrollViewer.VerticalScrollBarVisibility="Auto">
            <RelativePanel x:Name="MainPanel" x:DeferLoadStrategy="Lazy" VerticalAlignment="Stretch"
                           MinHeight="80" Padding="25,0">
                <Viewbox Name="AppLogo" Height="125" Margin="0,25,0,0"
                         RelativePanel.Above="Location"
                         RelativePanel.AlignHorizontalCenterWithPanel="True">
                    <Image Source="../Assets/AppLogo.png" Stretch="None" />
                </Viewbox>
                <localControls:ProgressAutoSuggestBox x:Name="Location" TextChanged="Location_TextChanged"
                                                      x:Uid="LocationSearchHint" PlaceholderText="Add a location to start"
                                                      SuggestionChosen="Location_SuggestionChosen" QuerySubmitted="Location_QuerySubmitted"
                                                      RelativePanel.AlignLeftWithPanel="True" RelativePanel.AlignRightWithPanel="True"
                                                      RelativePanel.AlignVerticalCenterWithPanel="True" />
                <Button Name="GPSButton" Grid.Row="1" Click="GPS_Click" HorizontalAlignment="Center" Margin="10"
                        RelativePanel.Below="Location" RelativePanel.AlignHorizontalCenterWithPanel="True"
                        RequestedTheme="Dark" Style="{ThemeResource ButtonRevealStyle}">
                    <Button.Content>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock x:Uid="Label_GPSFollow" Text="Current Location" VerticalAlignment="Center"
                                       Padding="5,0" FontSize="12"/>
                            <TextBlock Text="&#xE81D;" FontFamily="Segoe MDL2 Assets" VerticalAlignment="Center"
                                       Padding="5,0" FontSize="12"/>
                        </StackPanel>
                    </Button.Content>
                </Button>
                <ProgressRing Name="LoadingRing" Grid.Row="2" Margin="10"
                              Height="35" Width="35" Foreground="White"
                              HorizontalAlignment="Center" 
                              IsActive="False" Visibility="{x:Bind LoadingRing.IsActive, Mode=OneWay}"
                              RelativePanel.Below="GPSButton" RelativePanel.AlignHorizontalCenterWithPanel="True" />
            </RelativePanel>
        </ScrollViewer>
    </Grid>
</Page>
